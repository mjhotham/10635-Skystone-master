(window["webpackJsonpftc-dashboard"]=window["webpackJsonpftc-dashboard"]||[]).push([[0],{20:function(e,t){function n(e,t){var n=Math.round(e*t);return(n+.5*Math.sign(e-n))/t}CanvasRenderingContext2D.prototype.getScalingFactors=function(){var e,t;if("function"===typeof this.getTransform)e=this.getTransform();else{if("undefined"===typeof this.mozCurrentTransform)throw new Error("unable to find canvas transform");t=this.mozCurrentTransform,e=window.DOMMatrix.fromFloat64Array(Float64Array.from(t))}var n=e,a=n.a,r=n.b,i=n.c,o=n.d;return{scalingX:Math.sqrt(a*a+i*i),scalingY:Math.sqrt(r*r+o*o)}},CanvasRenderingContext2D.prototype.fineMoveTo=function(e,t){var a=this.getScalingFactors(),r=a.scalingX,i=a.scalingY;this.moveTo(n(e,r),n(t,i))},CanvasRenderingContext2D.prototype.fineLineTo=function(e,t){var a=this.getScalingFactors(),r=a.scalingX,i=a.scalingY;this.lineTo(n(e,r),n(t,i))}},22:function(e,t,n){e.exports=n.p+"static/media/field.1f32ba9a.png"},24:function(e,t,n){e.exports=n(36)},35:function(e,t,n){},36:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(13),o=n.n(i),s=n(8),c=n(2),l=n(3),u=n(5),d=n(4),p=n(6),h=function(e){var t=e.children,n=e.text,a=e.level;return r.a.createElement("div",{className:"heading"},r.a.createElement("h".concat(a),null,n),t)},f=function(e){var t=e.children;return r.a.createElement("header",null,t)},v=function(e){var t=e.children;return r.a.createElement("div",{className:"icon-group"},t)},m=function(e){var t=e.icon,n=e.size,a=e.opacity,i=e.onClick;return r.a.createElement("div",{style:{opacity:a||1},className:"icon ".concat(t," ").concat(n),onClick:i})},g=n(1),O=function(e){var t=e.gridTemplate,n=e.children;return r.a.createElement("div",{className:"tile-grid",style:{gridTemplate:t}},n)},b=function(e){var t=e.children,n=e.row,a=e.col;return r.a.createElement("div",{className:"tile",style:{gridRow:n,gridColumn:a}},t)},_=n(7),y=Object.freeze({INIT:"INIT",RUNNING:"RUNNING",STOPPED:"STOPPED"});function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}var x=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={selectedOpMode:""},n.onChange=n.onChange.bind(Object(_.a)(n)),n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"onChange",value:function(e){this.setState({selectedOpMode:e.target.value})}},{key:"renderInitButton",value:function(){var e=this;return r.a.createElement("button",{style:{margin:"4px"},onClick:function(){return e.props.dispatch({type:"INIT_OP_MODE",opModeName:e.state.selectedOpMode})}},"Init")}},{key:"renderStartButton",value:function(){var e=this;return r.a.createElement("button",{style:{margin:"4px"},onClick:function(){return e.props.dispatch({type:"START_OP_MODE"})}},"Start")}},{key:"renderStopButton",value:function(){var e=this;return r.a.createElement("button",{style:{margin:"4px"},onClick:function(){return e.props.dispatch({type:"STOP_OP_MODE"})}},"Stop")}},{key:"renderButtons",value:function(){var e=this.props,t=e.activeOpMode,n=e.activeOpModeStatus;return 0===e.opModeList.length?null:"$Stop$Robot$"===t?this.renderInitButton():n===y.INIT?r.a.createElement("span",null,this.renderStartButton(),this.renderStopButton()):n===y.RUNNING?this.renderStopButton():n===y.STOPPED?null:r.a.createElement("p",null,"Unknown op mode status: ",n)}},{key:"render",value:function(){var e=this.props,t=e.available,n=e.activeOpMode,a=e.opModeList,i=e.warningMessage,o=e.errorMessage,s=this.props,c=s.gamepad1Connected,l=s.gamepad2Connected;return t?r.a.createElement("div",null,r.a.createElement(h,{level:2,text:"Op Mode"},r.a.createElement(v,null,r.a.createElement(m,{opacity:c?1:.3,icon:"gamepad",size:"small"}),r.a.createElement(m,{opacity:l?1:.3,icon:"gamepad",size:"small"}))),r.a.createElement("select",{style:{margin:"4px"},value:this.state.selectedOpMode,disabled:"$Stop$Robot$"!==n||0===a.length,onChange:this.onChange},0===a.length?r.a.createElement("option",null,"Loading..."):a.sort().map(function(e){return r.a.createElement("option",{key:e},e)})),this.renderButtons(),""!==o?r.a.createElement("p",{className:"error"},"Error: ",o):null,""!==i?r.a.createElement("p",{className:"warning"},"Warning: ",i):null):r.a.createElement("div",null,r.a.createElement(h,{level:2,text:"Op Mode"}),r.a.createElement("p",null,"Event loop detached"))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return"$Stop$Robot$"!==e.activeOpMode?{selectedOpMode:e.activeOpMode}:""===t.selectedOpMode||-1===e.opModeList.indexOf(t.selectedOpMode)?{selectedOpMode:e.opModeList[0]||""}:{}}}]),t}(r.a.Component),w=Object(s.b)(function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(n,!0).forEach(function(t){Object(g.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e.status,{},e.gamepad)})(x),j=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(d.a)(t).call(this,e))).resize=n.resize.bind(Object(_.a)(n)),n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.resize(),window.addEventListener("resize",this.resize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.resize)}},{key:"resize",value:function(){var e=this.props.innerRef.current;e.width=e.parentElement.clientWidth*devicePixelRatio,e.height=e.parentElement.clientHeight*devicePixelRatio,e.style.width="".concat(e.width/devicePixelRatio,"px"),e.style.height="".concat(e.height/devicePixelRatio,"px"),this.props.onResize&&this.props.onResize()}},{key:"render",value:function(){return r.a.createElement("canvas",{ref:this.props.innerRef})}}]),t}(r.a.Component),k=r.a.forwardRef(function(e,t){return r.a.createElement(j,Object.assign({innerRef:t},e))});k.displayName="AutoFitCanvas";var C=k,S=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(d.a)(t).call(this,e))).canvasRef=r.a.createRef(),n.renderImage=n.renderImage.bind(Object(_.a)(n)),n.image=new Image,n.image.onload=n.renderImage,n.state={rotation:0},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.ctx=this.canvasRef.current.getContext("2d")}},{key:"componentDidUpdate",value:function(){this.image.src="data:image/jpeg;base64,".concat(this.props.imageStr)}},{key:"renderImage",value:function(){if(this.ctx){var e=this.canvasRef.current;e.width=e.width;var t=e.width,n=e.height,a=Math.min(devicePixelRatio,(this.state.rotation%2===0?n:t)/this.image.height,(this.state.rotation%2===0?t:n)/this.image.width);this.ctx.translate(t/2,n/2),this.ctx.rotate(this.state.rotation*Math.PI/2),this.ctx.scale(a,a),this.ctx.drawImage(this.image,-this.image.width/2,-this.image.height/2,this.image.width,this.image.height)}}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(h,{level:2,text:"Camera"},r.a.createElement(v,null,r.a.createElement(m,{onClick:function(){return e.setState({rotation:(e.state.rotation+1)%4})},icon:"refresh",size:"small"}))),r.a.createElement("div",{className:"canvas-container"},r.a.createElement(C,{ref:this.canvasRef,onResize:this.renderImage})))}}]),t}(r.a.Component),T=Object(s.b)(function(e){return{imageStr:e.camera.imageStr}})(S),P=n(14),M=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={selected:n.props.selected||[]},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"handleChange",value:function(e,t){var n=this;e.target.checked?this.setState({selected:[].concat(Object(P.a)(this.state.selected),[t])},function(){return n.props.onChange(n.state.selected)}):this.setState({selected:this.state.selected.filter(function(e){return t!==e})},function(){return n.props.onChange(n.state.selected)})}},{key:"render",value:function(){var e=this;return r.a.createElement("table",{className:"multiple-checkbox"},r.a.createElement("tbody",null,this.props.arr.filter(function(t){return!e.props.exclude||-1===e.props.exclude.indexOf(t)}).map(function(t){return r.a.createElement("tr",{key:t},r.a.createElement("td",null,r.a.createElement("input",{type:"checkbox",onChange:function(n){return e.handleChange(n,t)},checked:-1!==e.state.selected.indexOf(t)})),r.a.createElement("td",null,t))})))}}]),t}(r.a.Component),D=n(10),R=(n(20),{windowMs:5e3,colors:["#2979ff","#dd2c00","#4caf50","#7c4dff","#ffa000"],lineWidth:2,padding:15,keySpacing:4,keyLineLength:12,gridLineWidth:1,gridLineColor:"rgb(120, 120, 120)",fontSize:14,textColor:"rgb(50, 50, 50)",maxTicks:7});function N(e,t){var n=Math.floor(Math.log10(e)),a=e/Math.pow(10,n);return(t?a<1.5?1:a<3?2:a<7?5:10:a<=1?1:a<=2?2:a<=5?5:10)*Math.pow(10,n)}function I(e,t,n){var a=N(t-e,!1),r=N(a/(n-1),!0);return{min:Math.floor(e/r)*r,max:(Math.floor(t/r)+1)*r,spacing:r}}function L(e,t){var n=t.length>3?t[2]-t[1]:t[1]-t[0];Math.abs(n)>1&&e!==Math.floor(e)&&(n=e-Math.floor(e));var a=Math.log10(Math.abs(n)),r="";if(0!==e){var i=-1*Math.floor(a);i=Math.max(Math.min(i,20),0),r=e.toFixed(i)}else r="0";return r}function A(e,t,n,a,r){return a+(r-a)/(n-t)*(e-t)}var G=function(){function e(t,n){Object(c.a)(this,e),this.canvas=t,this.ctx=t.getContext("2d"),this.options=Object(D.cloneDeep)(R),Object.assign(this.options,n||{}),this.clear()}return Object(l.a)(e,[{key:"clear",value:function(){this.time=[],this.datasets=[],this.lastSampleTime=0}},{key:"addSample",value:function(e){if(0===this.lastSampleTime){this.lastSimTime=Date.now()+250,this.time.push(this.lastSimTime);for(var t=0,n=0;n<e.length;n++)"time"===e[n].name?this.lastSampleTime=e[n].value:(this.datasets.push({name:e[n].name,data:[e[n].value],color:this.options.colors[t%e.length]}),t++)}else for(var a=0;a<e.length;a++)if("time"===e[a].name)this.lastSimTime+=e[a].value-this.lastSampleTime,this.time.push(this.lastSimTime),this.lastSampleTime=e[a].value;else for(var r=0;r<this.datasets.length;r++)e[a].name===this.datasets[r].name&&this.datasets[r].data.push(e[a].value)}},{key:"getAxis",value:function(){for(var e=Number.MAX_VALUE,t=Number.MIN_VALUE,n=0;n<this.datasets.length;n++)for(var a=0;a<this.datasets[n].data.length;a++){var r=this.datasets[n].data[a];r>t&&(t=r),r<e&&(e=r)}return Math.abs(e-t)<1e-6?I(e-1,t+1,this.options.maxTicks):I(e,t,this.options.maxTicks)}},{key:"render",value:function(){var e=this.options;this.canvas.width=this.canvas.width,this.ctx.scale(devicePixelRatio,devicePixelRatio),this.ctx.font="".concat(e.fontSize,'px "Roboto", sans-serif'),this.ctx.textBaseline="middle",this.ctx.textAlign="left",this.ctx.lineWidth=e.lineWidth/devicePixelRatio;var t=this.canvas.width/devicePixelRatio,n=this.canvas.height/devicePixelRatio,a=this.renderKey(0,0,t);this.renderGraph(0,a,t,n-a)}},{key:"renderKey",value:function(e,t,n){var a=this.options;this.ctx.save();for(var r=this.datasets.length,i=r*a.fontSize+(r-1)*a.keySpacing,o=0;o<r;o++){var s=t+o*(a.fontSize+a.keySpacing)+a.fontSize/2,c=this.datasets[o].name,l=this.datasets[o].color,u=e+(n-(this.ctx.measureText(c).width+a.keyLineLength+a.keySpacing))/2;this.ctx.strokeStyle=l,this.ctx.beginPath(),this.ctx.fineMoveTo(u,s),this.ctx.fineLineTo(u+a.keyLineLength,s),this.ctx.stroke(),this.ctx.fillStyle=a.textColor,this.ctx.fillText(c,u+a.keyLineLength+a.keySpacing,s)}return this.ctx.restore(),i}},{key:"renderGraph",value:function(e,t,n,a){var r=this.options;if(0!==this.datasets.length&&0!==this.datasets[0].data.length){for(var i=Date.now();i-this.time[0]>r.windowMs+250;){this.time.shift();for(var o=0;o<this.datasets.length;o++)this.datasets[o].data.shift()}var s=a-2*r.padding,c=this.getAxis(),l=function(e){for(var t=[],n=e.min;n<=e.max;n+=e.spacing)t.push(n);for(var a=[],r=0;r<t.length;r++){var i=L(t[r],t);a.push(i)}return a}(c),u=this.renderAxisLabels(e+r.padding,t+r.padding,s,l),d=n-u-3*r.padding;this.renderGridLines(e+u+2*r.padding,t+r.padding,d,s,5,l.length),this.renderGraphLines(e+u+2*r.padding,t+r.padding,d,s,c)}}},{key:"renderAxisLabels",value:function(e,t,n,a){this.ctx.save();for(var r=0,i=0;i<a.length;i++){var o=this.ctx.measureText(a[i]).width;o>r&&(r=o)}this.ctx.textAlign="right",this.ctx.fillStyle=this.options.textColor;var s=n/(a.length-1);e+=r;for(var c=0;c<a.length;c++)this.ctx.fillText(a[c],e,t+(a.length-c-1)*s);return this.ctx.restore(),r}},{key:"renderGridLines",value:function(e,t,n,a,r,i){this.ctx.save(),this.ctx.strokeStyle=this.options.gridLineColor,this.ctx.lineWidth=this.options.gridLineWidth/devicePixelRatio;for(var o=n/(r-1),s=a/(i-1),c=0;c<r;c++){var l=e+o*c;this.ctx.beginPath(),this.ctx.fineMoveTo(l,t),this.ctx.fineLineTo(l,t+a),this.ctx.stroke()}for(var u=0;u<i;u++){var d=t+s*u;this.ctx.beginPath(),this.ctx.fineMoveTo(e,d),this.ctx.fineLineTo(e+n,d),this.ctx.stroke()}this.ctx.restore()}},{key:"renderGraphLines",value:function(e,t,n,a,r){var i=this.options,o=Date.now();this.ctx.lineWidth=i.lineWidth,this.ctx.save(),this.ctx.translate(e,t),this.ctx.rect(0,0,n,a),this.ctx.clip(),this.ctx.beginPath();for(var s=0;s<this.datasets.length;s++){var c=this.datasets[s];this.ctx.beginPath(),this.ctx.strokeStyle=c.color,this.ctx.fineMoveTo(A(this.time[0]-o+i.windowMs,0,i.windowMs,0,n),A(c.data[0],r.min,r.max,a,0));for(var l=1;l<c.data.length;l++)this.ctx.fineLineTo(A(this.time[l]-o+i.windowMs,0,i.windowMs,0,n),A(c.data[l],r.min,r.max,a,0));this.ctx.stroke()}this.ctx.restore()}}]),e}(),U=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={paused:!1},n.canvasRef=r.a.createRef(),n.handleDocumentKeydown=n.handleDocumentKeydown.bind(Object(_.a)(n)),n.renderGraph=n.renderGraph.bind(Object(_.a)(n)),n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.graph=new G(this.canvasRef.current,this.props.options),this.renderGraph(),document.addEventListener("keydown",this.handleDocumentKeydown)}},{key:"componentWillUnmount",value:function(){this.requestId&&cancelAnimationFrame(this.requestId),document.removeEventListener("keydown",this.handleDocumentKeydown)}},{key:"componentDidUpdate",value:function(){var e=this;this.props.data.forEach(function(t){return e.graph.addSample(t)})}},{key:"handleDocumentKeydown",value:function(e){var t=this;"Space"===e.code&&this.setState({paused:!this.state.paused},function(){t.renderGraph()})}},{key:"renderGraph",value:function(){!this.state.paused&&this.graph&&(this.graph.render(),this.requestId=requestAnimationFrame(this.renderGraph))}},{key:"render",value:function(){return r.a.createElement(C,{ref:this.canvasRef})}}]),t}(r.a.Component),F=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(d.a)(t).call(this,e))).inputRef=r.a.createRef(),n.handleChange=n.handleChange.bind(Object(_.a)(n)),n.handleKeyDown=n.handleKeyDown.bind(Object(_.a)(n)),n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidUpdate",value:function(){this.inputRef.current.setCustomValidity(this.props.valid?"":"Invalid input")}},{key:"handleChange",value:function(e){var t=this.props.validate(e.target.value);t&&this.props.onChange(t)}},{key:"handleKeyDown",value:function(e){this.props.onSave&&13===e.keyCode&&this.props.onSave()}},{key:"render",value:function(){return r.a.createElement("input",{ref:this.inputRef,type:"text",size:15,value:this.props.value,onChange:this.handleChange,onKeyDown:this.handleKeyDown})}}]),t}(r.a.Component),V=function(e){return""===e||/^-0?$/.test(e)||/^-?\d*\.([1-9]*0+)*$/.test(e)?{value:e,valid:!1}:/^-?\d*\.?\d*$/.test(e)?{value:parseFloat(e),valid:!0}:void 0},z=function(e){return"-"===e||""===e?{value:e,valid:!1}:/^-?\d*$/.test(e)?{value:parseInt(e,10),valid:!0}:void 0},W=function(e){return{value:e,valid:!0}},B=n(9),K=n.n(B),X=(K.a.arrayOf(K.a.shape({log:K.a.arrayOf(K.a.string).isRequired,data:K.a.object.isRequired,timestamp:K.a.number.isRequired})),function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={graphing:!1,keys:[],windowMs:{value:R.windowMs,valid:!0}},n.handleClick=n.handleClick.bind(Object(_.a)(n)),n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"startGraphing",value:function(){this.setState({graphing:!0})}},{key:"stopGraphing",value:function(){this.setState({graphing:!1})}},{key:"handleClick",value:function(){this.state.graphing?this.stopGraphing():this.startGraphing()}},{key:"render",value:function(){var e=this,t=this.props.telemetry,n=t[t.length-1],a=t.map(function(t){return[{name:"time",value:t.timestamp}].concat(Object(P.a)(Object.keys(t.data).filter(function(t){return e.state.keys.includes(t)}).map(function(e){return{name:e,value:parseFloat(t.data[e])}})))});return r.a.createElement("div",null,r.a.createElement(h,{level:2,text:"Graph"},r.a.createElement(v,null,r.a.createElement(m,{icon:this.state.graphing?"close":"chart",size:"small",onClick:this.handleClick}))),this.state.graphing?r.a.createElement("div",{className:"canvas-container"},r.a.createElement(U,{data:a,options:{windowMs:this.state.windowMs.valid?this.state.windowMs.value:R.windowMs}})):r.a.createElement("div",null,r.a.createElement(M,{arr:Object.keys(n.data).filter(function(e){return!isNaN(parseFloat(n.data[e]))}),onChange:function(t){return e.setState({keys:t})},selected:this.state.keys}),Object.keys(n.data).length>0?r.a.createElement("div",{style:{marginTop:"20px"}},r.a.createElement(h,{level:3,text:"Options"}),r.a.createElement("table",null,r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,"Window (ms)"),r.a.createElement("td",null,r.a.createElement(F,{value:this.state.windowMs.value,valid:this.state.windowMs.valid,validate:z,onChange:function(t){var n=t.value,a=t.valid;return e.setState({windowMs:{value:n,valid:a}})}})))))):r.a.createElement("p",null,"Sent telemetry items will appear here for graphing")))}}]),t}(a.Component)),$=Object(s.b)(function(e){return{telemetry:e.telemetry}})(X),q=function(e){var t=e.value,n=e.onChange,a=e.onSave;return r.a.createElement("span",null,r.a.createElement("input",{type:"checkbox",checked:t,onChange:function(e){return n({value:e.target.checked,valid:!0})}}),r.a.createElement("button",{onClick:a},"Save"))},H=function(e){var t=e.value,n=e.enumValues,a=e.onChange,i=e.onSave;return r.a.createElement("span",null,r.a.createElement("select",{className:"valid",value:t,onChange:function(e){return a({value:e.target.value,valid:!0})}},n.map(function(e){return r.a.createElement("option",{key:e,value:e},e)})),r.a.createElement("button",{onClick:i},"Save"))},Y=Object.freeze({BOOLEAN:"boolean",INT:"int",DOUBLE:"double",STRING:"string",ENUM:"enum",CUSTOM:"custom"}),J=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e,t=this.props,n=t.type,a=t.name,i=t.value,o=t.enumClass,s=t.enumValues,c=t.modified,l=t.valid,u=t.onChange,d=t.onSave,p=function(e){var t=e.valid,a=e.value;u({__type:n,__value:a,__valid:t})},h=function(){l&&c&&d({__type:n,__value:i,__valid:!0,__enumClass:o})};switch(n){case Y.INT:e=r.a.createElement(F,{value:i,valid:l,validate:z,onChange:p,onSave:h});break;case Y.DOUBLE:e=r.a.createElement(F,{value:i,valid:l,validate:V,onChange:p,onSave:h});break;case Y.STRING:e=r.a.createElement(F,{value:i,valid:l,validate:W,onChange:p,onSave:h});break;case Y.BOOLEAN:e=r.a.createElement(q,{value:i,onChange:p,onSave:h});break;case Y.ENUM:e=r.a.createElement(H,{value:i,enumValues:s,onChange:p,onSave:h});break;default:e=r.a.createElement("p",null,"Unknown option type: ",n)}return r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("span",{style:c?{userSelect:"auto",opacity:1}:{userSelect:"none",opacity:0}},"*"),a),r.a.createElement("td",null,e))}}]),t}(r.a.Component),Q=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={expanded:!1},n.toggleVisibility=n.toggleVisibility.bind(Object(_.a)(n)),n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"toggleVisibility",value:function(){this.setState({expanded:!this.state.expanded})}},{key:"render",value:function(){var e=this,n=this.props,a=n.name,i=n.value,o=Object.keys(i).map(function(n){var a=i[n],o=function(t){e.props.onChange({__type:Y.CUSTOM,__value:Object(g.a)({},n,t)})},s=function(t){e.props.onSave({__type:Y.CUSTOM,__value:Object(g.a)({},n,t)})};return a.__type===Y.CUSTOM?r.a.createElement(t,{key:n,name:n,value:a.__value,onChange:o,onSave:s}):r.a.createElement(J,{key:n,type:a.__type,name:n,value:a.__newValue,valid:a.__valid,enumClass:a.__enumClass,enumValues:a.__enumValues,modified:a.__modified,onChange:o,onSave:s})});return r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("div",{className:"option-header"},r.a.createElement(m,{icon:this.state.expanded?"expand-less":"expand-more",size:"tiny",onClick:this.toggleVisibility}),r.a.createElement(h,{text:a,level:3})),this.state.expanded?r.a.createElement("table",null,r.a.createElement("tbody",null,o)):null))}}]),t}(r.a.Component),Z=Object(s.b)(function(e){return e.config},function(e){return{onRefresh:function(){e({type:"REFRESH_CONFIG"})},onSave:function(t){e(function(e){return{type:"SAVE_CONFIG",configDiff:e}}(t))},onChange:function(t){e(function(e){return{type:"UPDATE_CONFIG",configDiff:e}}(t))}}})(function(e){var t=e.configRoot,n=e.onRefresh,a=e.onSave,i=e.onChange;return r.a.createElement("div",null,r.a.createElement(h,{level:2,text:"Configuration"},r.a.createElement(v,null,r.a.createElement(m,{icon:"save",size:"small",onClick:function(){return a(function e(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(t.__type===Y.CUSTOM){for(var a={__type:Y.CUSTOM,__value:{}},r=0,i=Object.keys(t.__value);r<i.length;r++){var o=i[r],s=e(t.__value[o],!1);s&&(a.__value[o]=s)}if(Object.entries(a.__value).length>0||n)return a}else if(t.__modified&&t.__valid)return{__type:t.__type,__value:t.__newValue,__valid:!0,__enumClass:t.__enumClass}}(t))}}),r.a.createElement(m,{icon:"refresh",size:"small",onClick:n}))),r.a.createElement("table",null,r.a.createElement("tbody",null,Object.keys(t.__value||{}).map(function(e){return r.a.createElement(Q,{key:e,name:e,value:t.__value[e].__value||{},onChange:function(t){i({__type:Y.CUSTOM,__value:Object(g.a)({},e,t)})},onSave:function(t){a({__type:Y.CUSTOM,__value:Object(g.a)({},e,t)})}})}))))}),ee=Object(s.b)(function(e){return{telemetry:e.telemetry}})(function(e){var t=e.telemetry,n=t[t.length-1],a=Object.keys(n.data).map(function(e){return r.a.createElement("span",{key:e},e,": ",n.data[e],r.a.createElement("br",null))}),i=n.log.map(function(e,t){return r.a.createElement("span",{key:t},e,r.a.createElement("br",null))});return r.a.createElement("div",null,r.a.createElement(h,{level:2,text:"Telemetry"}),r.a.createElement("p",null,a),r.a.createElement("p",null,i))}),te=n(22),ne=n.n(te),ae=new Image,re=[],ie=!1;ae.onload=function(){ie=!0,re.forEach(function(e){return e.render()})},ae.src=ne.a;var oe,se={padding:15,alpha:.25,fieldSize:144,splineSamples:250,gridLineWidth:1,gridLineColor:"rgb(120, 120, 120)"},ce=function(){function e(t,n){Object(c.a)(this,e),this.canvas=t,this.ctx=t.getContext("2d"),this.options=Object(D.cloneDeep)(se),Object.assign(this.options,n||{}),this.overlay={ops:[]}}return Object(l.a)(e,[{key:"setOverlay",value:function(e){this.overlay=e}},{key:"render",value:function(){this.canvas.width=this.canvas.width,this.ctx.scale(devicePixelRatio,devicePixelRatio);var e=this.canvas.width/devicePixelRatio,t=this.canvas.height/devicePixelRatio,n=(e<t?e:t)-2*this.options.padding;ie||-1!==re.indexOf(this)||re.push(this),this.renderField((e-n)/2,(t-n)/2,n,n)}},{key:"renderField",value:function(e,t,n,a){this.ctx.save(),this.ctx.globalAlpha=this.options.alpha,this.ctx.drawImage(ae,e,t,n,a),this.ctx.restore(),this.renderGridLines(e,t,n,a,7,7),this.renderOverlay(e,t,n,a)}},{key:"renderGridLines",value:function(e,t,n,a,r,i){this.ctx.save(),this.ctx.strokeStyle=this.options.gridLineColor,this.ctx.lineWidth=this.options.gridLineWidth/devicePixelRatio;for(var o=n/(r-1),s=a/(i-1),c=0;c<r;c++){var l=e+o*c;this.ctx.beginPath(),this.ctx.fineMoveTo(l,t),this.ctx.fineLineTo(l,t+a),this.ctx.stroke()}for(var u=0;u<i;u++){var d=t+s*u;this.ctx.beginPath(),this.ctx.fineMoveTo(e,d),this.ctx.fineLineTo(e+n,d),this.ctx.stroke()}this.ctx.restore()}},{key:"renderOverlay",value:function(e,t,n,a){var r=this,i=this.options;this.ctx.save(),this.ctx.translate(e+n/2,t+a/2),this.ctx.scale(n/i.fieldSize,-a/i.fieldSize),this.ctx.rotate(Math.PI/2),this.ctx.lineCap="butt",this.overlay.ops.forEach(function(e){switch(e.type){case"fill":r.ctx.fillStyle=e.color;break;case"stroke":r.ctx.strokeStyle=e.color;break;case"strokeWidth":r.ctx.lineWidth=e.width;break;case"circle":r.ctx.beginPath(),r.ctx.arc(e.x,e.y,e.radius,0,2*Math.PI),e.stroke?r.ctx.stroke():r.ctx.fill();break;case"polygon":r.ctx.beginPath();var t=e.xPoints,n=e.yPoints,a=e.stroke;r.ctx.fineMoveTo(t[0],n[0]);for(var o=1;o<t.length;o++)r.ctx.fineLineTo(t[o],n[o]);r.ctx.closePath(),a?r.ctx.stroke():r.ctx.fill();break;case"polyline":r.ctx.beginPath();var s=e.xPoints,c=e.yPoints;r.ctx.fineMoveTo(s[0],c[0]);for(var l=1;l<s.length;l++)r.ctx.fineLineTo(s[l],c[l]);r.ctx.stroke();break;case"spline":r.ctx.beginPath();var u=e.ax,d=e.bx,p=e.cx,h=e.dx,f=e.ex,v=e.fx,m=e.ay,g=e.by,O=e.cy,b=e.dy,_=e.ey,y=e.fy;r.ctx.fineMoveTo(v,y);for(var E=0;E<=i.splineSamples;E++){var x=E/i.splineSamples,w=(u*x+d)*(x*x*x*x)+p*(x*x*x)+h*(x*x)+f*x+v,j=(m*x+g)*(x*x*x*x)+O*(x*x*x)+b*(x*x)+_*x+y;r.ctx.lineTo(w,j)}r.ctx.stroke();break;default:throw new Error("unknown operation: ".concat(e.type))}}),this.ctx.restore()}}]),e}(),le=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(d.a)(t).call(this,e))).canvasRef=r.a.createRef(),n.renderField=n.renderField.bind(Object(_.a)(n)),n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.field=new ce(this.canvasRef.current),this.renderField()}},{key:"componentDidUpdate",value:function(){this.field.setOverlay(this.props.overlay),this.renderField()}},{key:"renderField",value:function(){this.field&&this.field.render()}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(h,{level:2,text:"Field"}),r.a.createElement("div",{className:"canvas-container"},r.a.createElement(C,{ref:this.canvasRef,onResize:this.renderField})))}}]),t}(r.a.Component),ue=Object(s.b)(function(e){var t=e.telemetry;return{overlay:t[t.length-1].fieldOverlay}})(le);function de(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}var pe,he,fe,ve={DEFAULT:"DEFAULT",FIELD:"FIELD",GRAPH:"GRAPH",ORIGINAL:"ORIGINAL"},me=(oe={},Object(g.a)(oe,ve.DEFAULT,{name:"Default",content:r.a.createElement(O,{gridTemplate:"150px calc(60% - 150px) 40% / 30% 40% 30%"},r.a.createElement(b,{row:1,col:1},r.a.createElement(w,null)),r.a.createElement(b,{row:"2 / span 2",col:1},r.a.createElement(T,null)),r.a.createElement(b,{row:"1 / span 3",col:2},r.a.createElement($,null)),"=",r.a.createElement(b,{row:"1 / span 2",col:3},r.a.createElement(Z,null)),r.a.createElement(b,{row:3,col:3},r.a.createElement(ee,null)))}),Object(g.a)(oe,ve.FIELD,{name:"Field",content:r.a.createElement(O,{gridTemplate:"150px calc(60% - 150px) 40% / 30% 40% 30%"},r.a.createElement(b,{row:1,col:1},r.a.createElement(w,null)),r.a.createElement(b,{row:"2 / span 2",col:1},r.a.createElement(ue,null)),r.a.createElement(b,{row:"1 / span 3",col:2},r.a.createElement($,null)),"=",r.a.createElement(b,{row:"1 / span 2",col:3},r.a.createElement(Z,null)),r.a.createElement(b,{row:3,col:3},r.a.createElement(ee,null)))}),Object(g.a)(oe,ve.GRAPH,{name:"Graph",content:r.a.createElement(O,{gridTemplate:"100% / 50% 50%"},r.a.createElement(b,{row:1,col:1},r.a.createElement($,null)),r.a.createElement(b,{row:1,col:2},r.a.createElement($,null)))}),Object(g.a)(oe,ve.ORIGINAL,{name:"Original",content:r.a.createElement(O,{gridTemplate:"60% 40% / 65% 35%"},r.a.createElement(b,{row:"1 / span 2",col:1},r.a.createElement($,null)),"=",r.a.createElement(b,{row:1,col:2},r.a.createElement(Z,null)),r.a.createElement(b,{row:2,col:2},r.a.createElement(ee,null)))}),oe),ge=Object.freeze(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?de(n,!0).forEach(function(t){Object(g.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):de(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},ve,{getName:function(e){return me[e].name},getContent:function(e){return me[e].content}})),Oe=function(e,t){return{type:"CONNECT",host:e,port:t}},be=function(e){return function(t){t({type:"RECEIVE_CONNECTION_STATUS",isConnected:e}),e||t({type:"RECEIVE_OP_MODE_LIST",opModeList:[]})}},_e=function(e){return{type:"RECEIVE_LAYOUT_PRESET",preset:e}},ye=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.dispatch(Oe(window.location.hostname,"8000")),this.props.dispatch({type:"GET_LAYOUT_PRESET"})}},{key:"componentWillUnmount",value:function(){this.props.dispatch({type:"DISCONNECT"})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(f,null,r.a.createElement(h,{text:"FTC Dashboard",level:1},r.a.createElement(v,null,r.a.createElement("select",{style:{margin:"0px 8px 0px 8px"},value:this.props.layoutPreset,onChange:function(t){return e.props.dispatch({type:"SAVE_LAYOUT_PRESET",preset:t.target.value})}},Object.keys(ge).filter(function(e){return"string"==typeof ge[e]}).map(function(e){return r.a.createElement("option",{key:e,value:e},ge.getName(e))})),this.props.isConnected?r.a.createElement("p",{style:{width:"60px",margin:"0px 8px 0px 8px",textAlign:"right"}},this.props.pingTime,"ms"):null,r.a.createElement(m,{icon:this.props.isConnected?"wifi":"no-wifi",size:"large"})))),ge.getContent(this.props.layoutPreset))}}]),t}(a.Component),Ee=Object(s.b)(function(e){var t=e.socket,n=e.settings;return{isConnected:t.isConnected,pingTime:t.pingTime,layoutPreset:n.layoutPreset}})(ye),xe=n(12),we=(n(34),n(23)),je=function(e){return{type:"GAMEPAD_CONNECTED",user:e}},ke=function(e){return{type:"GAMEPAD_DISCONNECTED",user:e}},Ce=function(e,t){return function(n){var a=Date.now();(!Object(D.isEqual)(pe,e)||!Object(D.isEqual)(he,t)||a-fe<150)&&(n(function(e,t){return{type:"RECEIVE_GAMEPAD_STATE",gamepad1:e,gamepad2:t}}(e,t)),pe=e,he=t,fe=a)}};function Se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}var Te,Pe,Me={LOGITECH_DUAL_ACTION:"LOGITECH_DUAL_ACTION",XBOX_360:"XBOX_360",UNKNOWN:"UNKNOWN"},De=Object.freeze(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Se(n,!0).forEach(function(t){Object(g.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Se(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},Me,{getFromGamepad:function(e){return-1!==e.id.search("Logitech Dual Action")?Me.LOGITECH_DUAL_ACTION:-1!==e.id.search("Xbox 360 Wired Controller")?Me.XBOX_360:Me.UNKNOWN},getJoystickDeadzone:function(e){switch(e){case Me.LOGITECH_DUAL_ACTION:return.06;case Me.XBOX_360:return.15;default:return.2}},isSupported:function(e){return e!==Me.UNKNOWN}})),Re=function(e,t,n,a,r){return a+(e-t)*(r-a)/(n-t)},Ne=function(e,t,n){return n=n||1,-(t=t||.2)<e&&e<t?0:e>n?n:e<-n?n:e>0?Re(e,t,n,0,n):Re(e,-t,-n,0,-n)},Ie={left_stick_x:0,left_stick_y:0,right_stick_x:0,right_stick_y:0,dpad_up:!1,dpad_down:!1,dpad_left:!1,dpad_right:!1,a:!1,b:!1,x:!1,y:!1,guide:!1,start:!1,back:!1,left_bumper:!1,right_bumper:!1,left_stick_button:!1,right_stick_button:!1,left_trigger:0,right_trigger:0},Le=function(e){var t=De.getFromGamepad(e);if(!De.isSupported(t))throw new Error("Unable to extract state from unsupported gamepad.");switch(t){case De.LOGITECH_DUAL_ACTION:return{left_stick_x:Ne(-e.axes[1]),left_stick_y:Ne(e.axes[2]),right_stick_x:Ne(-e.axes[3]),right_stick_y:Ne(e.axes[4]),dpad_up:e.buttons[12].pressed,dpad_down:e.buttons[13].pressed,dpad_left:e.buttons[14].pressed,dpad_right:e.buttons[15].pressed,a:e.buttons[1].pressed,b:e.buttons[2].pressed,x:e.buttons[0].pressed,y:e.buttons[3].pressed,guide:!1,start:e.buttons[9].pressed,back:e.buttons[8].pressed,left_bumper:e.buttons[4].pressed,right_bumper:e.buttons[5].pressed,left_stick_button:e.buttons[10].pressed,right_stick_button:e.buttons[11].pressed,left_trigger:e.buttons[6].value,right_trigger:e.buttons[7].value};case De.XBOX_360:return{left_stick_x:Ne(e.axes[0]),left_stick_y:Ne(-e.axes[1]),right_stick_x:Ne(e.axes[3]),right_stick_y:Ne(-e.axes[4]),dpad_up:e.buttons[0].pressed,dpad_down:e.buttons[1].pressed,dpad_left:e.buttons[2].pressed,dpad_right:e.buttons[3].pressed,a:e.buttons[11].pressed,b:e.buttons[12].pressed,x:e.buttons[13].pressed,y:e.buttons[14].pressed,guide:!1,start:e.buttons[4].pressed,back:e.buttons[5].pressed,left_bumper:e.buttons[8].pressed,right_bumper:e.buttons[9].pressed,left_stick_button:e.buttons[6].pressed,right_stick_button:e.buttons[7].pressed,left_trigger:0===e.axes[2]?0:(e.axes[2]+1)/2,right_trigger:0===e.axes[5]?0:(e.axes[5]+1)/2};default:throw new Error("Unable to handle support gamepad of type ".concat(t))}},Ae=-1,Ge=-1,Ue=function(e){return window.addEventListener("gamepaddisconnected",function(t){var n=t.gamepad;Ae===n.index?(e.dispatch(ke(Ae)),Ae=-1):Ge===n.index&&(e.dispatch(ke(Ge)),Ge=-1)}),function t(){var n=navigator.getGamepads();if(0!==n.length){var a=!0,r=!1,i=void 0;try{for(var o,s=navigator.getGamepads()[Symbol.iterator]();!(a=(o=s.next()).done);a=!0){var c=o.value;if(null!==c&&c.connected){var l=De.getFromGamepad(c);if(De.isSupported(l)){var u=Le(c);u.start&&u.a?(Ae=c.index,e.dispatch(je(1)),Ge===Ae&&(e.dispatch(ke(2)),Ge=-1)):u.start&&u.b&&(Ge=c.index,e.dispatch(je(2)),Ae===Ge&&(e.dispatch(ke(1)),Ae=-1));var d=void 0;d=-1!==Ae?Le(n[Ae],1):Ie;var p=void 0;p=-1!==Ge?Le(n[Ge],2):Ie,e.dispatch(Ce(d,p))}}}}catch(h){r=!0,i=h}finally{try{a||null==s.return||s.return()}finally{if(r)throw i}}requestAnimationFrame(t)}else setTimeout(t,500)}(),function(e){return function(t){return e(t)}}},Fe=function(e){return function(t){return function(n){switch(n.type){case"CONNECT":(Te=new WebSocket("ws://".concat(n.host,":").concat(n.port))).onmessage=function(t){var n=JSON.parse(t.data);e.dispatch(n)},Te.onopen=function(){e.dispatch(be(!0)),e.dispatch(function e(){return function(t,n){n().socket.isConnected&&(Pe=Date.now(),t({type:"GET_ROBOT_STATUS"}),setTimeout(function(){t(e())},1e3))}}())},Te.onclose=function(){e.dispatch(be(!1)),setTimeout(function(){return e.dispatch(Oe(n.host,n.port))},500)};break;case"DISCONNECT":Te.close();break;case"RECEIVE_ROBOT_STATUS":var a=Date.now()-Pe;e.dispatch(function(e){return{type:"RECEIVE_PING_TIME",pingTime:e}}(a)),t(n);break;case"RECEIVE_GAMEPAD_STATE":case"GET_ROBOT_STATUS":case"SAVE_CONFIG":case"GET_CONFIG":case"INIT_OP_MODE":case"START_OP_MODE":case"STOP_OP_MODE":e.getState().socket.isConnected&&Te.send(JSON.stringify(n)),t(n);break;default:t(n)}}}},Ve=function(e){return function(t){return function(n){switch(n.type){case"GET_LAYOUT_PRESET":var a=localStorage.getItem("layoutPreset")||ge.DEFAULT;e.dispatch(_e(a));break;case"SAVE_LAYOUT_PRESET":localStorage.setItem("layoutPreset",n.preset),e.dispatch(_e(n.preset));break;default:t(n)}}}},ze=[{timestamp:0,data:{},log:[],fieldOverlay:{ops:[]}}],We=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ze,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"RECEIVE_TELEMETRY":return t.telemetry;default:return e}};function Be(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function Ke(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Be(n,!0).forEach(function(t){Object(g.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Be(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Xe={isConnected:!1,pingTime:0},$e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"RECEIVE_PING_TIME":return Ke({},e,{pingTime:t.pingTime});case"RECEIVE_CONNECTION_STATUS":return Ke({},e,{isConnected:t.isConnected});default:return e}};function qe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function He(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qe(n,!0).forEach(function(t){Object(g.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qe(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Ye=function e(t,n){if((t=t||{}).__value=t.__value||{},n.__type===Y.CUSTOM){for(var a={__type:Y.CUSTOM,__value:{}},r=0,i=Object.keys(n.__value);r<i.length;r++){var o=i[r];a.__value[o]=e(t.__value[o]||{},n.__value[o])}return a}return t.__modified?{__type:n.__type,__value:n.__value,__newValue:t.__newValue,__valid:t.__valid,__modified:!0,__enumClass:n.__enumClass,__enumValues:n.__enumValues}:{__type:n.__type,__value:n.__value,__newValue:n.__value,__valid:!0,__modified:!1,__enumClass:n.__enumClass,__enumValues:n.__enumValues}},Je=function e(t,n,a){if(t.__type===Y.CUSTOM){for(var r={__type:Y.CUSTOM,__value:{}},i=0,o=Object.keys(t.__value);i<o.length;i++){var s=o[i];s in n.__value?r.__value[s]=e(t.__value[s],n.__value[s],a):r.__value[s]=Object(D.cloneDeep)(t.__value[s])}return r}return{__type:t.__type,__value:t.__value,__newValue:n.__value,__valid:n.__valid,__modified:a,__enumClass:t.__enumClass,__enumValues:t.__enumValues}},Qe=function e(t){if(t.__type===Y.CUSTOM){for(var n={__type:Y.CUSTOM,__value:{}},a=0,r=Object.keys(t.__value);a<r.length;a++){var i=r[a];n.__value[i]=e(t.__value[i])}return n}return{__type:t.__type,__value:t.__value,__newValue:t.__value,__valid:!0,__modified:!1,__enumClass:t.__enumClass,__enumValues:t.__enumValues}},Ze={configRoot:{}},et=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ze,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"RECEIVE_CONFIG":return He({},e,{configRoot:Ye(e.configRoot,t.configRoot)});case"UPDATE_CONFIG":return He({},e,{configRoot:Je(e.configRoot,t.configDiff,!0)});case"SAVE_CONFIG":return He({},e,{configRoot:Je(e.configRoot,t.configDiff,!1)});case"REFRESH_CONFIG":return He({},e,{configRoot:Qe(e.configRoot)});default:return e}};function tt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function nt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tt(n,!0).forEach(function(t){Object(g.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tt(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var at={available:!1,activeOpMode:"",activeOpModeStatus:y.STOPPED,opModeList:[],warningMessage:"",errorMessage:""},rt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:at,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"RECEIVE_ROBOT_STATUS":return nt({},e,{},t.status);case"RECEIVE_OP_MODE_LIST":return nt({},e,{opModeList:t.opModeList});default:return e}};function it(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function ot(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?it(n,!0).forEach(function(t){Object(g.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):it(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var st={imageStr:""},ct=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:st,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"RECEIVE_IMAGE":return ot({},e,{imageStr:t.imageString});default:return e}};function lt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function ut(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lt(n,!0).forEach(function(t){Object(g.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lt(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var dt={layoutPreset:ge.DEFAULT},pt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"RECEIVE_LAYOUT_PRESET":return ut({},e,{layoutPreset:t.preset});default:return e}};function ht(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function ft(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ht(n,!0).forEach(function(t){Object(g.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ht(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var vt={gamepad1Connected:!1,gamepad2Connected:!1},mt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GAMEPAD_CONNECTED":return 1===t.user?ft({},e,{gamepad1Connected:!0}):ft({},e,{gamepad2Connected:!0});case"GAMEPAD_DISCONNECTED":return 1===t.user?ft({},e,{gamepad1Connected:!1}):ft({},e,{gamepad2Connected:!1});default:return e}},gt=Object(xe.c)({telemetry:We,socket:$e,config:et,status:rt,camera:ct,settings:pt,gamepad:mt}),Ot=function(){var e=[we.a,Ue,Fe,Ve];return Object(xe.d)(gt,xe.a.apply(null,e))},bt=(n(35),Ot());o.a.render(r.a.createElement(s.a,{store:bt},r.a.createElement(Ee,null)),document.getElementById("root"))}},[[24,1,2]]]);
//# sourceMappingURL=main.eda6879f.chunk.js.map